<div class="viewport-grid">
  <section class="header">
    <header
      [ngClass.xs]="sidenavOpen ? 'large' : 'small'"
      ngClass.gt-xs="small"
    >
      <app-toolbar></app-toolbar>
    </header>
  </section>
  <section
    ngClass.gt-xs="content"
    ngClass.xs="content small-screen"
    fxLayout="row"
  >
    <aside
      @mobileSlidingSidenav
      [class]="sidenavOpen ? 'sidenav-open' : ''"
      *ngIf="sidenavOpen"
    >
      <div fxLayoutAlign="center center" class="subtitle topbar-shadow">
        A Tool for Beers Criteria
        <span *ngIf="mobileWidth && sidenavOpen" class="arrow_right-fab"
          ><button
            color="accent"
            @arrowSlideLeft
            mat-fab
            (click)="state.toggleSidenav()"
          >
            <mat-icon
              class="arrow-to-content"
              svgIcon="arrow_right"
            ></mat-icon></button
        ></span>
      </div>

      <app-side-navigation #sideNav></app-side-navigation>
    </aside>
    <main
      [@sidenavExpand]="
        mobileWidth
          ? sidenavOpen
            ? 'mobileOpen'
            : 'mobileClose'
          : sidenavOpen
          ? 'open'
          : 'close'
      "
    >
      <nav class="topnav shadow">
        <button
          *ngIf="!sidenavOpen || !mobileWidth"
          class="nav-button"
          mat-icon-button
          (click)="this.state.toggleSidenav()"
        >
          <mat-icon
            [svgIcon]="this.layout.sidenavOpen ? 'chevron_left' : 'menu'"
          ></mat-icon>
        </button>

        <span *ngFor="let table of enabledTables | async">
          <button
            (click)="handleTabClick(table.TableNumber)"
            class="tab-button"
            [class.active]="table.TableNumber === this.selectedTable"
          >
            {{ table.ShortName }}
          </button>
        </span>
      </nav>
      <div *ngIf="!sidenavOpen || !mobileWidth" style="margin-top: 40px">
        <app-table class="table-buffer" *ngIf="tableLoaded">
          <span table-description>
            {{ this.tableDescription }}
          </span>
        </app-table>
      </div>
    </main>
  </section>
</div>
