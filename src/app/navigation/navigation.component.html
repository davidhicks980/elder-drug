<link
  href="https://fonts.googleapis.com/icon?family=Material+Icons"
  rel="stylesheet"
/>
<link
  href="https://fonts.googleapis.com/css2?family=Patua+One&display=swap"
  rel="stylesheet"
/>
<mat-sidenav-container class="material-container">
  <mat-sidenav
    #drawer
    class="material-sidenav"
    [class.mat-elevation-z4]="true"
    opened
    mode="side"
  >
    <div>
      <br />
      <p style="text-align: center;" class="title-text">
        Elder<span class="caduceus">&#9764;</span>Drug
      </p>
    </div>

    <form>
      <br />
      <br />
      <br />
      <section *ngFor="let drug of drugs; index as i">
        <div class="flex-container">
          <mat-form-field
            class="dh-input"
            style="flex-grow: 11; min-width: 200px;"
          >
            <mat-label>Enter Drug {{ i + 1 }}</mat-label>

            <input
              class="dh-input"
              type="text"
              name="name_{{ i }}"
              aria-label="Number"
              matInput
              [formControl]="myControl"
              [matAutocomplete]="auto"
              (input)="getInputString($event.target.value)"
              value="$event.target.value"
            />
            <mat-autocomplete #auto="matAutocomplete">
              <mat-option
                *ngFor="let option of filteredOptions | async"
                [value]="option"
                [innerHTML]="boldString(option, activeString)"
              >
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>

          <div style="flex-grow: 1; width: 2.5em;">
            <button
              mat-icon-button
              class="closeIcon"
              style="position: block; z-index: 1;"
              [style.display]="i > 0 ? '' : 'none'"
              (click)="removeDrug(i)"
            >
              <mat-icon>highlight_off</mat-icon>
            </button>
          </div>
        </div>
      </section>
    </form>
    <section>
      <div class="flex-container" style="padding-right: 1.5em;">
        <div>
          <button
            style="width: 8em; line-height: 2em;"
            class="add-item"
            mat-stroked-button
            color="primary"
            type="button"
            (click)="addDrug()"
          >
            ADD DRUG
          </button>
        </div>
        <div>
          <button
            style="width: 8em; line-height: 2em;"
            mat-flat-button
            color="primary"
            type="button"
            (click)="search(submission)"
          >
            SEARCH
          </button>
        </div>
      </div>
    </section>
  </mat-sidenav>

  <mat-sidenav-content>
    <app-tables (pullDrawer)="drawer.toggle()"></app-tables>
  </mat-sidenav-content>
</mat-sidenav-container>
