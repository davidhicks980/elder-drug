<div class="expanded-row" *ngIf="data as d">
  <div *elderLet="filterService.filter$ | async as filter" @flyIn>
    <div class="grid__12-col">
      <div class="header">
        <h1 class="header__title" [innerHTML]="d.Item | highlight: filter"></h1>
        <mat-chip-list class="header__chips">
          <mat-chip [innerHtml]="d.ItemType | titlecase | highlight: filter"></mat-chip>
        </mat-chip-list>
        <h2
          [innerHTML]="d.SearchTerms | titlecase | highlight: filter"
          class="header__subtitle"
        ></h2>
      </div>
    </div>
    <div class="masonry-grid">
      <div *ngIf="d.Inclusion">
        <elder-expanded-row-card
          [filter]="filter"
          [field]="'Guidance Applies To'"
          [entry]="d.Inclusion"
          [icon]="'unfold_less'"
        >
        </elder-expanded-row-card>
      </div>

      <div *ngIf="d.Exclusion">
        <elder-expanded-row-card
          [filter]="filter"
          [field]="'Does Not Apply To'"
          [entry]="d.Exclusion"
          [icon]="'unfold_more'"
        >
        </elder-expanded-row-card>
      </div>
      <div *ngIf="d.DiseaseState">
        <elder-expanded-row-card
          [filter]="filter"
          [field]="'Caution In'"
          [entry]="d.DiseaseState"
          [icon]="'error'"
        >
        </elder-expanded-row-card>
      </div>
      <div *ngIf="d.MaximumClearance || d.MinimumClearance">
        <div>
          <b [innerHTML]="d.Recommendation | highlight: filter"></b> with clearance
          <i><b>below</b></i>
          <span [innerHTML]="d.MaximumClearance | highlight: filter"></span> and
          <i><b>above</b></i>
          <span [innerHTML]="d.MinimumClearance | highlight: filter"></span>
        </div>
      </div>
      <div *ngIf="d.Rationale">
        <elder-expanded-row-card
          [filter]="filter"
          [field]="'Rationale'"
          [entry]="d.Rationale"
          [icon]="'light'"
        >
        </elder-expanded-row-card>
      </div>
    </div>
  </div>
</div>
